{"version":3,"file":"dec-http.es5.js","sources":["../compiled/src/dec-http.js"],"sourcesContent":["import axios from 'axios';\nimport { beforeMethod } from 'kaop-ts';\nexport var config = { base: '' };\nexport var http = function (method, headers) {\n    if (method === void 0) { method = 'get'; }\n    return beforeMethod(function (meta) {\n        var _this = this;\n        var _a = meta.args, url = _a[0], params = _a[1];\n        var opts = { method: method, url: config.base + \"/\" + url, headers: headers };\n        opts[method === 'get' ? 'params' : 'data'] = params;\n        axios(opts)\n            .then(function (_a) {\n            var data = _a.data;\n            meta.args = [url, params, null, data];\n            _this.next();\n        })\n            .catch(function (error) {\n            meta.args = [url, params, error, null];\n            _this.next();\n        });\n    });\n};\n//# sourceMappingURL=dec-http.js.map"],"names":[],"mappings":";;;AAEO,IAAI,MAAM,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;AACjC,AAAO,IAAI,IAAI,GAAG,UAAU,MAAM,EAAE,OAAO,EAAE;IACzC,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,KAAK,CAAC,EAAE;IAC1C,OAAO,YAAY,CAAC,UAAU,IAAI,EAAE;QAChC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAChD,IAAI,IAAI,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;QAC9E,IAAI,CAAC,MAAM,KAAK,KAAK,GAAG,QAAQ,GAAG,MAAM,CAAC,GAAG,MAAM,CAAC;QACpD,KAAK,CAAC,IAAI,CAAC;aACN,IAAI,CAAC,UAAU,EAAE,EAAE;YACpB,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YACnB,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtC,KAAK,CAAC,IAAI,EAAE,CAAC;SAChB,CAAC;aACG,KAAK,CAAC,UAAU,KAAK,EAAE;YACxB,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;YACvC,KAAK,CAAC,IAAI,EAAE,CAAC;SAChB,CAAC,CAAC;KACN,CAAC,CAAC;CACN;;;;"}